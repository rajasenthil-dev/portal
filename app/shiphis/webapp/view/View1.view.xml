<mvc:View controllerName="shiphis.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:t="sap.ui.table"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:sf="sap.ui.comp.smartfilterbar"
    xmlns:st="sap.ui.comp.smarttable"
    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    displayBlock="true">
    <App id="app">
        <f:DynamicPage id="dynamicPage" showFooter="true">
            <f:header>
                <f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding">
                    <FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding sapUiMediumMarginBottom borderBottom">
                        <HeaderContainer id="container1" scrollStep="200" height="100px">
                            <FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px">
                                <FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG">
                                    <Image id="logoImage" src="img/McKLogo.png" width="125px" decorative="false" press="onLogoPressed" tooltip="{i18n>tooltipLogo}" >
                                        <layoutData>
                                            <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/>
                                        </layoutData>
                                    </Image>
                                </FlexBox>
                            </FlexBox>
                        </HeaderContainer>
                        <!-- <HeaderContainer id="container2" scrollStep="200">
                             <GenericTile id="_IDGenGenericTile1" class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>lastRefresh}" subheader="3/22/2024 6:30:57AM" frameType="OneByHalf">
                                <TileContent id="_IDGenTileContent1" class="refreshTitle" footer="{i18n>tileFooterText}">
                                    <Text id="_IDGenText1" class="refreshText" text="3/22/2024 6:30:57AM"/>
                                </TileContent>
                            </GenericTile>
                        </HeaderContainer> -->
                    </FlexBox>
                    <sf:SmartFilterBar
                        id="bar0"
                        entitySet="SHIPPINGHISTORY"
                        useDateRangeType="true"
                        persistencyKey="SmartFilterBar_SHIPPINGHISTORY"
                        smartVariant="pageVariant"
                        liveMode="true"
                        search="onSearch">
                        <sf:controlConfiguration>
                            <sf:ControlConfiguration id="_IDGenControlConfiguration1"
                                key="WADAT_IST"
                                visibleInAdvancedArea="true"
                                conditionType="{
                                    module: 'sap.ui.comp.config.condition.DateRangeType'
                                }" />
                            
                        </sf:controlConfiguration>
                        <sf:controlConfiguration>
                            <sf:ControlConfiguration id="customCurrentFilter"
                                key="CURRENT"
                                label="{i18n>SHIPPINGHISTORY.CURRENT}" visibleInAdvancedArea="true">
                                <sf:customControl>
                                    <ComboBox id="currentFilterBox" selectedKey="{filters>/currentStatus}">
                                        <items>
                                            <core:Item id="_IDGenItem2" key="" text="{i18n>filterAll}"/>
                                            <core:Item id="_IDGenItem" key="YES" text="{i18n>filterCurrent}"/>
                                            <core:Item id="_IDGenItem1" key="NO" text="{i18n>filterLegacy}"/>
                                        </items>
                                    </ComboBox>
                                </sf:customControl>
                            </sf:ControlConfiguration>
                        </sf:controlConfiguration>
                    </sf:SmartFilterBar>
                    <Panel id="_IDGenPanel" expandable="true" expanded="true" headerText="{i18n>panelHeader}">
                        <HeaderContainer id="container4" scrollStep="200" orientation="Horizontal" gridLayout="true" class="mck_HeaderContainer">
                            <FlexBox id="_IDGenFlexBox1" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle1" class="mck_TileContentTitle" text="{i18n>tileTitle1}"/>
                                <Text id="_IDGenNumericContent1" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox2" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle2" class="mck_TileContentTitle" text="{i18n>tileTitle2}"/>
                                <Text id="_IDGenNumericContent2" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox3" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle3" class="mck_TileContentTitle" text="{i18n>tileTitle3}"/>
                                <Text id="_IDGenNumericContent3" class="mck_TileContent" text=""/>
                            </FlexBox>
                        </HeaderContainer>
                    </Panel>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <st:SmartTable
                    xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                    width="100%"
                    direction="Column"
                    fitContainer="true"
                    tableType="Table"
                    header="{i18n>tableTitle}"
                    enableAutoBinding="true"
                    id="table0"
                    smartFilterId="bar0"
                    cd:w5g.dt.context="/SHIPPINGHISTORY"
                    entitySet="SHIPPINGHISTORY"
                    placeToolbarInTable="true"
                    useExportToExcel="true"
                    beforeExport="onBeforeExport"
                    useVariantManagement="true"
                    useTablePersonalisation="true"
                    showRowCount="true"
                    persistencyKey="SmartTableAnalytical_SHIPHIS"
                    demandPopin="true"
                    customData:p13nDialogSettings='{filter:{visible:false}}'
                    enableAutoColumnWidth="true"
                    class="sapUiResponsiveContentPadding">
                    <t:Table id="gridTable" selectionMode="None" alternateRowColors="true">
                        <t:columns>
                            <t:Column id="_IDGenColumn11" width='7.813rem' hAlign="Center" sortProperty="CURRENT"> 
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "CURRENT", "leadingProperty": "CURRENT", "columnIndex": 0}'/>
                                </t:customData>
                                <Text id="_IDGenText31" text="{i18n>SHIPPINGHISTORY.CURRENT}"/>
                                <t:template>
                                    <ObjectStatus id="_IDGenObjectStatus"
                                        core:require="{ Formatter: 'shiphis/model/formatter' }"
                                        icon="{path: 'CURRENT', formatter:'Formatter.yesNoIcon'}"
                                        inverted="true"
                                        state="{path: 'CURRENT', formatter: 'Formatter.yesNoIconColor'}"
                                        text="{= ${CURRENT} === 'YES' ? ${i18n>statusCurrent} : ${i18n>statusLegacy} }"/> 
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn" width="7.813rem" hAlign="End" sortProperty="VBELN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "VBELN", "leadingProperty": "VBELN", "columnIndex": 1}'/>
                                </t:customData>
                                <Text id="_IDGenText6" text="{i18n>SHIPPINGHISTORY.VBELN}"/>
                                <t:template>
                                    <Link id="_IDGenText9" press=".onInvoiceClick" text="{path: 'VBELN', formatter: '._removeLeadingZeros'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn6" width="7.813rem" hAlign="End" sortProperty="KUNAG">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "KUNAG", "leadingProperty": "KUNAG", "columnIndex": 2}'/>
                                </t:customData>
                                <Text id="_IDGenText2" text="{i18n>SHIPPINGHISTORY.KUNAG}"/>
                                <t:template>
                                    <Text id="_IDGenText4" text="{path: 'KUNAG'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn1" width="7.813rem" hAlign="End" sortProperty="KUNNR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "KUNNR", "leadingProperty": "KUNNR", "columnIndex": 3}'/>
                                </t:customData>
                                <Text id="_IDGenText3" text="{i18n>SHIPPINGHISTORY.KUNNR}"/>
                                <t:template>
                                    <Text id="_IDGenText" text="{path: 'KUNNR'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn2" width="7.813rem" hAlign="End" sortProperty="WADAT_IST">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "WADAT_IST", "leadingProperty": "WADAT_IST", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText7" text="{i18n>SHIPPINGHISTORY.WADAT_IST}"/>
                                <t:template>
                                    <Text id="_IDGenText11" text="{=${WADAT_IST}==='00000000' ? ${i18n>noDate} : ${path: 'WADAT_IST', type: 'sap.ui.model.odata.type.Date'}}" /> </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn7" width="7.813rem" hAlign="End" sortProperty="TRACKN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "TRACKN", "leadingProperty": "TRACKN", "columnIndex": 9}'/>
                                </t:customData>
                                <Text id="_IDGenText5" text="{i18n>SHIPPINGHISTORY.TRACKN}"/>
                                <t:template>
                                    <Text id="_IDGenText14" text="{TRACKN}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn71" width="7.813rem" hAlign="End" sortProperty="PSTLZ">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "PSTLZ", "leadingProperty": "PSTLZ", "columnIndex": 10}'/>
                                </t:customData>
                                <Text id="_IDGenText51" text="{i18n>SHIPPINGHISTORY.PSTLZ}"/>
                                <t:template>
                                    <Text id="_IDGenText141" text="{PSTLZ}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn3" width="7.813rem" hAlign="End" sortProperty="DELIVERY_DATETIME_TRK_TXT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "DELIVERY_DATETIME_TRK_TXT", "leadingProperty": "DELIVERY_DATETIME_TRK_TXT", "columnIndex": 11}'/>
                                </t:customData>
                                <Text id="_IDGenText8" text="{i18n>SHIPPINGHISTORY.DELIVERY_DATE}"/>
                                <t:template>
                                     <Text id="_IDGenText12" text="{=${DELIVERY_DATETIME_TRK_TXT}==='00000000' ? ${i18n>noDate} : ${path: 'DELIVERY_DATETIME_TRK_TXT', type: 'sap.ui.model.odata.type.Date'}}" /> </t:template>
                            </t:Column>
                            <!-- <t:Column id="_IDGenColumn4" width="7.813rem" hAlign="End" sortProperty="LFUHR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "LFUHR", "leadingProperty": "LFUHR", "columnIndex": 10}'/>
                                </t:customData>
                                <Text id="_IDGenText10" text="{i18n>SHIPPINGHISTORY.LFUHR}"/>
                                <t:template>
                                    <Text id="_IDGenText13" text="{path: 'LFUHR', formatter: '._formatTime'}" />
                                </t:template>
                            </t:Column> -->
                            <t:Column id="_IDGenColumn8" width="6rem" hAlign="End" sortProperty="VKORG">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "VKORG", "leadingProperty": "VKORG", "columnIndex": 15}'/>
                                </t:customData>
                                <Text id="_IDGenText15" text="{i18n>SHIPPINGHISTORY.VKORG}"/>
                                <t:template>
                                    <Text id="_IDGenText16" text="{path: 'VKORG'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn9" width="7.813rem" hAlign="End" sortProperty="MFRNR" visible="false">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MFRNR", "leadingProperty": "MFRNR", "columnIndex": 16}'/>
                                </t:customData>
                                <Text id="_IDGenText17" text="{i18n>SHIPPINGHISTORY.MFRNR}"/>
                                <t:template>
                                    <Text id="_IDGenText18" text="{MFRNR}" />
                                </t:template>
                            </t:Column>
                             </t:columns>
                         </t:Table>
                </st:SmartTable>
            </f:content>
        </f:DynamicPage>
    </App>
</mvc:View>