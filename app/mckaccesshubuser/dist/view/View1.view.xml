<mvc:View controllerName="mckaccesshubuser.controller.View1"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <NavContainer id="wizardNavContainer">
      <pages>
        <Page id="wizardContentPage" title="McKesson Access Hub" showNavButton="false">
          <content>
            <Wizard id="wizard" 
                    complete="onWizardReview"
                    enableBranching="true"
            >
              <WizardStep
                id="UserTypeStep"
                title="Select User Type"
                subsequentSteps="stepInternalFinal, stepExternalDetails"
                complete="goToUserStep"
                icon="sap-icon://person-placeholder">
                  <HBox id="_IDGenHBox2" width="100%" class="">
                    <VBox id="userTypeBox" width="50%" class="formCard cardSpacing">
                      <Title id="_IDGenTitle" text="Lets get started!" level="H4"/>
                      <Text id="_IDGenText8" class="sapUiSmallMarginBottom"
                        text="Let's start by selecting the type of user you want to create."/>
                      <Text id="_IDGenText9" class="sapUiSmallMarginBottom"
                        text="Will this new user be an Internal McKesson user or an External Manufacturer?" />
                      <HBox id="_IDGenHBox1"
                          width="100%">
                          <SegmentedButton selectionChange="setUserMethod" id="userMethodSelection" selectedKey="{userContext>/selectedUser}">
                            <items>
                              <SegmentedButtonItem id="_IDGenSegmentedButtonItem1" width="100px" key="InternalUser" icon="sap-icon://employee" text="Internal" />
                              <SegmentedButtonItem id="_IDGenSegmentedButtonItem2" width="100px" key="ExternalUser" icon="sap-icon://customer" text="External" />
                            </items>
                          </SegmentedButton>
                      </HBox>
                    </VBox>
                    <VBox id="instructionBox" width="50%" class="instructionsCard">

                      <HBox id="_IDGenHBox6" alignItems="Center" class="sapUiMediumMarginBottom">
                        <FlexBox id="_IDGenFlexBox1"
                          class="myIconCircle headerIcon"
                          alignItems="Center"
                          justifyContent="Center">
                          <core:Icon id="_IDGenIcon3"
                            src="sap-icon://validate"
                            size="1.5rem"
                            class="icon-gold" 
                            />
                        </FlexBox>
                        
                        <Title id="_IDGenTitle1" text="Welcome to the Mckesson Access Hub!" level="H4"/>
                      </HBox>
                      <Text
                        id="instructionText"
                        class="sapUiSmallMarginBottom"
                        text="This wizard will guide you through setting up access for a new user. It only takes a few steps!"
                      />
                      <Text id="_IDGenText11" class="sapUiSmallMarginBottom" text="In this first step, please tell us whether the user is internal (like an employee or contractor with a company email) or external (such as a partner, or manufacturer)."/>
                      <Text id="_IDGenText12" class="sapUiSmallMarginBottom" text="This helps to tailor the process, so the right permissions, policies, and approvals are applied automatically."/>
                      <Text id="_IDGenText13" text="Select the user type to get started!"/>

                    </VBox>
                  </HBox>
              </WizardStep>
              
            <WizardStep 
              id="stepInternalFinal" 
              title="ServiceNow Request"
              activate="checkStepInternalInfo"
              icon="sap-icon://request">
              <HBox id="_IDGenHBox" width="100%">
                <!-- info column -->
                <VBox id="_IDGenVBox4" width="50%" class="formCard cardSpacing">
                  <Title id="_IDGenTitle3" text="Ok great! Let's get your internal user set up." level="H4"/>
                  <Text id="_IDGenText14" class="sapUiSmallMarginBottom" text="For this step we need to create a ServiceNow request for your user to be added to an AD (Azure Directory) group."/>
                  <Link id="_IDGenLink" class="" text="Open ServiceNow" target="_blank" href="https://mckesson1.service-now.com/sp?id=sc_cat_item&amp;.table=sc_cat_item&amp;.sys_id=4a0573011b87c19040a643fccd4bcbfa"/>
                  <Text id="_IDGenText17" class="sapUiSmallMarginBottom emphasize" text="Please copy this link and open in your Edge browser."/>
                  <Text id="_IDGenText18" class="sapUiTinyMarginBottom" text="Fill out the required fields for your Contact Number, Hours of Availability, and Location"/>
                  <Text id="_IDGenText19" class="sapUiSmallMarginBottom " text="Use the template below to add the Short Description and Long Description."/>
                  <Text id="_IDGenText10" text="Short Description:" class="sapUiSmallMarginTop bold" />
                  <TextArea id="_IDGenTextArea1"
                      rows="1"
                      editable="false"
                      width="100%"
                      value="Request to Add Internal User to AD Group"
                      class="sapUiSmallMarginBottom"
                  />

                  <Text id="_IDGenText16" text="Long Description:" class="sapUiSmallMarginTop bold" />
                  <TextArea id="_IDGenTextArea2"
                      rows="15"
                      editable="false"
                      width="100%"
                      value="Please process the following request for Internal User access to Active Directory group(s).&#10;&#10;Requested For: [Enter full name of employee]&#10;New Hire or Transfer: [Yes or No]&#10;Request Category: AD Group Membership&#10;Request Type: Add User to AD Group(s)&#10;- Is this a bulk request? No&#10;&#10;Domain Selection:&#10;[select domain: CA and add AD Group: MFG_INTERNAL_USERS_CA or select domain: NAMCK and add AD Group: BTP_INTERNAL_USERS]&#10;&#10;Additional Details:&#10;[Provide detailed reason for access â€“ e.g., 'New internal user joining team. Requires access to internal MFG Portal.']&#10;&#10;Attachments:&#10;- For bulk: use the provided attachment and upload CSV of names/emails&#10;- Otherwise: select â€“ None â€“"
                      class="sapUiMediumMarginBottom"
                  />
                </VBox>
                <!-- instructions column -->
                <VBox id="_IDGenVBox5" width="50%" class="instructionsCard">
                  <HBox id="_IDGenHBox7" alignItems="Center" class="sapUiSmallMarginBottom">
                    <FlexBox id="_IDGenFlexBox2"  
                        class="myIconCircle headerIcon"
                        alignItems="Center"
                        justifyContent="Center">
                    <core:Icon id="_IDGenIcon2" src="sap-icon://accelerated" class="icon-sky" size="1.5rem"></core:Icon>
                    </FlexBox>
                    <Title id="_IDGenTitle4" text="Quick Reference" level="H4"/>
                  </HBox>
                  <FormattedText 
                    id="internalInstructions"
                    class="instructionsFormattedText sapUiSmallMarginBottom"
                    width="100%"
                  />
                  <HBox id="_IDGenHBox10" alignItems="Center" class="">
                    <FlexBox id="_IDGenFlexBox" 
                        class="myIconCircleLime infoIcon"
                        alignItems="Center"
                        justifyContent="Center">
                      <core:Icon id="_IDGenIcon" src="sap-icon://step" color="#143359" class="" size="1rem"></core:Icon>
                    </FlexBox>
                    <Title id="_IDGenTitle12" text="Approval Steps"/>
                  </HBox>
                  <FormattedText 
                    id="internalInstructions1"
                    class="instructionsFormattedText sapUiMediumMarginBottom"
                    width="100%"
                  />
                </VBox>
              </HBox>
            </WizardStep>
  
            <WizardStep 
              id="stepExternalDetails" 
              title="External User Details"
              activate="checkStepExternalDetails"
              nextStep="stepManufacturerDetails"
              icon="sap-icon://add-contact">
              <HBox id="_IDGenHBox4" width="100%" class="sapUiSmallMarginTop">

                <!-- Left Form Card -->
                <VBox id="_IDGenVBox3" width="50%" class="formCard cardSpacing">
                  <HBox id="_IDGenHBox9" alignItems="Center" class="sapUiSmallMarginBottom">
                    <FlexBox id="_IDGenFlexBox3" alignItems="Center" justifyContent="Center" width="2.5rem" height="2.5rem" class="iconCircle" direction="Column">
                      <core:Icon id="_IDGenIcon1" src="sap-icon://add-contact" size="1.25rem" color="white" />
                    </FlexBox>
                    <Title id="_IDGenTitle2" text="Let's Set Up Your External User" level="H4" class="sapUiTinyMarginBegin"/>
                  </HBox>

                  <Text id="_IDGenText15" class="sapUiSmallMarginBottom" text="We'll need just a few quick details to get started." />

                  <Label id="_IDGenLabel" text="First Name"/>
                  <Input id="_IDGenInput9" 
                      value="{userContext>/firstName}" 
                      placeholder="e.g. John" 
                      class="sapUiSmallMarginBottom" 
                      width="20rem" />

                  <Label id="_IDGenLabel1" text="Last Name"/>
                  <Input id="_IDGenInput10" 
                      value="{userContext>/lastName}" 
                      placeholder="e.g. Doe" 
                      class="sapUiSmallMarginBottom" 
                      width="20rem" />

                  <Label id="_IDGenLabel2" text="Email"/>
                  <Input id="_IDGenInput11" 
                      value="{userContext>/email}" 
                      type="Email" 
                      placeholder="e.g. john.doe@partner.com" 
                      width="20rem" />
                </VBox>

                <!-- Right Info Card -->
                <VBox id="_IDGenVBox6" width="50%" class="instructionsCard">
                  <HBox id="_IDGenHBox11" alignItems="Center" class="sapUiSmallMarginBottom">
                    <FlexBox id="_IDGenFlexBox4" alignItems="Center" justifyContent="Center" class="myIconCircle headerIcon" direction="Column">
                      <core:Icon id="_IDGenIcon5" src="sap-icon://hint" size="1.5rem" class="icon-sky"/>
                    </FlexBox>
                    <Title id="_IDGenTitle8" text="Helpful Tips" level="H4" class="sapUiTinyMarginBegin"/>
                  </HBox>

                  <FormattedText id="externalUserInfo" />
                </VBox>

              </HBox>
            </WizardStep>

            <WizardStep 
              id="stepManufacturerDetails" 
              title="Manufacturer Details"
              nextStep="stepGroupSelect"
              complete="goToGroupStep"
              icon="sap-icon://business-card">
              <HBox id="_IDGenHBox12" width="100%" class="sapUiSmallMarginTop">

              <!-- Left Form Card -->
              <VBox id="_IDGenVBox" width="50%" class="formCard cardSpacing">
                <HBox id="_IDGenHBox13" alignItems="Center" class="sapUiSmallMarginBottom">
                  <FlexBox id="_IDGenFlexBox5" alignItems="Center" justifyContent="Center" width="2.5rem" height="2.5rem" class="iconCircle" direction="Column">
                    <core:Icon id="_IDGenIcon6" src="sap-icon://business-card" size="1.25rem" color="white" />
                  </FlexBox>
                  <Title id="_IDGenTitle5" text="Manufacturer Information" level="H4" class="sapUiTinyMarginBegin"/>
                </HBox>

                <Text id="_IDGenText25" class="sapUiSmallMarginBottom" text="You're halfway there! Letâ€™s capture the manufacturer's details linked to this user." />

                <Label id="_IDGenLabel3" text="Manufacturer Number"/>
                <Input 
                  id="manufacturerNumber" 
                  value="{userContext>/manufacturerNumber}" 
                  placeholder="e.g. 0001234567"
                  tooltip="Enter a 10-digit Manufacturer Number. Add leading zeros if needed."
                  class="sapUiSmallMarginBottom" 
                  liveChange=".onManufacturerNumberChange"
                  width="20rem"/>

                  <Text
                      id="manufacturerHelp"
                      text="Enter a 10-digit manufacturer number (with leading zeros if needed)."
                      visible="true"
                      class="helperMessage"
                  />

                <Label id="_IDGenLabel4" text="Manufacturer Name"/>
                <Input id="manufacturerName" value="{userContext>/MFGName}" placeholder="e.g. ABC Pharma Inc." class="sapUiSmallMarginBottom" width="20rem"/>

                <Label id="_IDGenLabel5" text="Profit Center"/>
                <Input id="profitCenter" value="{userContext>/profitCentre}" placeholder="e.g. 12345" class="sapUiSmallMarginBottom" width="20rem"/>

                <Label id="_IDGenLabel6" text="Sales Org"/>
                <Input id="salesOrg" value="{userContext>/salesOrg}" placeholder="e.g. 1000" class="sapUiSmallMarginBottom" width="20rem"/>

                <Label id="_IDGenLabel7" text="Sales Office"/>
                <Input id="salesOffice" value="{userContext>/salesOffice}" placeholder="e.g. 2001" width="20rem"/>
              </VBox>

              <!-- Right Info Card -->
              <VBox id="_IDGenVBox1" width="50%" class="instructionsCard">
                <HBox id="_IDGenHBox14" alignItems="Center" class="sapUiSmallMarginBottom">
                  <FlexBox id="_IDGenFlexBox6" alignItems="Center" justifyContent="Center" class="myIconCircle headerIcon" direction="Column">
                    <core:Icon id="_IDGenIcon7" src="sap-icon://hint" size="1.5rem" class="icon-sky"/>
                  </FlexBox>
                  <Title id="_IDGenTitle9" text="Helpful Tips" level="H4" class="sapUiTinyMarginBegin"/>
                </HBox>

                <FormattedText id="mfgUserInfo" />
              </VBox>

            </HBox>
            </WizardStep>

            <WizardStep id="stepGroupSelect" title="Group Selection" icon="sap-icon://company-view">
              <HBox id="_IDGenHBox5" width="100%" class="sapUiSmallMarginTop">

                <!-- Left Form Card -->
                <VBox id="_IDGenVBox2" width="50%" class="formCard cardSpacing">
                  <HBox id="_IDGenHBox15" alignItems="Center" class="sapUiSmallMarginBottom">
                    <FlexBox id="_IDGenFlexBox7" alignItems="Center" justifyContent="Center" width="2.5rem" height="2.5rem" class="iconCircle" direction="Column">
                      <core:Icon id="_IDGenIcon8" src="sap-icon://company-view" size="1.25rem" color="white" />
                    </FlexBox>
                    <Title id="_IDGenTitle6" text="Assign User Group" level="H4" class="sapUiTinyMarginBegin"/>
                  </HBox>

                  <Text id="_IDGenText26" class="sapUiSmallMarginBottom" text="Choose the appropriate group for this external user or create a new one if necessary." />

                  <Label id="_IDGenLabel9" text="Choose Action"/>
                  <RadioButtonGroup id="groupAction"
                                    columns="2"
                                    selectedIndex="{userContext>/groupAction}">
                      <buttons>
                          <RadioButton id="_IDGenRadioButton" text="Select Existing Group"/>
                          <RadioButton id="_IDGenRadioButton1" text="Create New Group"/>
                      </buttons>
                  </RadioButtonGroup>

                  <!-- Dropdown for Existing Groups -->
                  <VBox id="existingGroupBox" visible="{= ${userContext>/groupAction} === 0 }">
                      <Label id="_IDGenLabel19" text="Select Group"/>
                      <Select id="groupSelect"
                              change=".onGroupChange"
                              width="22rem"
                              selectedKey="{userContext>/selectedGroup}"
                              enabled="{= !${userContext>/isGroupMapped} }"
                              items="{
                                  path: 'userContext>/groupDetails/groupList'
                              }">
                          <core:Item id="_IDGenItem" key="{userContext>id}" text="{userContext>profile/name}" />
                      </Select>
                  </VBox>

                  <!-- Input for New Group -->
                  <VBox id="newGroupBox" visible="{= ${userContext>/groupAction} === 1 }">
                      <Label id="_IDGenLabel20" text="Create a New Group"/>
                      <Input id="_IDGenInput8" placeholder="e.g. External_Mfg_Group"
                            value="{userContext>/newGroupName}"
                            width="20rem" />
                      <Button id="_IDGenButton" text="Create Group" press="onCreateOktaGroup" type="Emphasized" class="sapUiTinyMarginTop sapUiSmallMarginBottom"/>
                      <!-- <Select id="groupSelect1"
                              width="22rem"
                              
                              selectedKey="{userContext>/selectedGroup}"
                              items="{
                                  path: 'userContext>/groupDetails/groupList/value'
                              }">
                          <core:Item id="_IDGenItem12" key="{userContext>id}" text="{userContext>profile/name}" />
                      </Select> -->
                  </VBox>
                </VBox>

                <!-- Right Info Card -->
                <VBox id="_IDGenVBox7" width="50%" class="instructionsCard">
                  <HBox id="_IDGenHBox16" alignItems="Center" class="sapUiSmallMarginBottom">
                    <FlexBox id="_IDGenFlexBox8" alignItems="Center" justifyContent="Center" class="myIconCircle headerIcon" direction="Column">
                      <core:Icon id="_IDGenIcon9" src="sap-icon://hint" size="1.5rem" class="icon-sky"/>
                    </FlexBox>
                    <Title id="_IDGenTitle13" text="Helpful Tips" level="H4" class="sapUiTinyMarginBegin"/>
                  </HBox>

                  <FormattedText id="groupUserInfo" />
                </VBox>

              </HBox>
            </WizardStep>

            <!-- Internal Review -->
            <WizardStep
              id="stepInternalReview"
              title="Review Internal Submission"
              validated="true"
            >
              <VBox id="_IDGenVBox10" class="cardContent">
                <FormattedText
                  id="internalReviewSummary"
                  width="100%"
                  htmlText="ServiceNow Request Created."
                />
              </VBox>
            </WizardStep>

            <!-- External Review -->
            <WizardStep
              id="stepExternalReview"
              title="Review and Submit"
              validated="true"
            >
              <VBox id="_IDGenVBox11" class="sapUiSmallMargin">
                <Title id="_IDGenTitle7" text="Review User Details" level="H3"/>
                <Text id="_IDGenText" text="{/extUser/FirstName} {/extUser/LastName}"/>
                <Text id="_IDGenText1" text="{/extUser/Email}"/>
                
                <Title id="_IDGenTitle10" text="Manufacturer Details" level="H3"/>
                <Text id="_IDGenText2" text="Number: {/extUser/ManufacturerNumber}"/>
                <Text id="_IDGenText3" text="Name: {/extUser/ManufacturerName}"/>
                <Text id="_IDGenText4" text="Profit Center: {/extUser/ProfitCentre}"/>
                <Text id="_IDGenText5" text="Sales Org: {/extUser/SalesOrg}"/>
                <Text id="_IDGenText6" text="Sales Office: {/extUser/SalesOffice}"/>
                
                <Title id="_IDGenTitle11" text="Group" level="H3"/>
                <Text id="_IDGenText7" text="{/extUser/Group}"/>

                <Button id="_IDGenButton3" text="Edit" press="onEditExternal" type="Emphasized"/>
              </VBox>
            </WizardStep>
          </Wizard>
        </content>

        <footer>
          <Bar id="_IDGenBar1">
            <contentRight>
              <Button id="_IDGenButton1" 
                  text="Start Over" 
                  type="Transparent"
                  press=".onStartOver" />
              <Button id="_IDGenButton2" 
                  text="Exit Wizard" 
                  type="Emphasized"
                  press=".onExitWizard" />
            </contentRight>
          </Bar>
        </footer>
      </Page>
      
      <Page id="internalReviewPage" title="Review: Internal User Setup" showNavButton="false" navButtonPress="onNavBack">
        <content>
          <VBox id="_IDGenVBox12" class="sapUiSmallMargin">
            <HBox id="_IDGenHBox3" justifyContent="SpaceBetween">
              
              <!-- Left Card: Summary -->
              <VBox id="_IDGenVBox14" width="50%" class="formCard margin-right">
                <Title id="_IDGenTitle14" text="ðŸŽ¯ Here's what we captured" level="H4" class="sapUiMediumMarginBottom"/>
                <VBox id="_IDGenVBox16" class="reviewCard">
                  <Title id="_IDGenTitle20" level="H4" text="ServiceNow Checklist" />
                  <Text id="_IDGenText28" text="Make sure you've completed the following in ServiceNow:" class="sapUiSmallMarginBottom" />

                  <List id="_IDGenList1" items="{
                    path: '/internalChecklist'
                  }">
                    <StandardListItem id="_IDGenStandardListItem1" title="{title}" description="{description}" icon="sap-icon://complete" />
                  </List>
                </VBox>
              </VBox>
    


              <!-- Right Card: Next Steps -->
              <VBox id="_IDGenVBox15" width="50%" class="instructionsCard margin-left">
                <Title id="_IDGenTitle15" text="ðŸš€ What Happens Next?" level="H4" class="sapUiMediumMarginBottom"/>
                <Text id="_IDGenText27" text="Your request will be routed for approval through:" />
                <List id="_IDGenList" items="{
                  path: '/approvalSteps'
                }">
                  <StandardListItem id="_IDGenStandardListItem" title="{step}" icon="{icon}" />
                </List>
              </VBox>
              
            </HBox>

            
          </VBox>
        </content>
        <footer>
          <Bar id="_IDGenBar2" >
            <contentRight>
              <Button id="_IDGenButton5"  text="Finshed" type="Emphasized" press="onFinishInternal" />
            </contentRight>
          </Bar>
        </footer>
      </Page>
      <Page id="externalReviewPage" title="Review: External User Setup" showNavButton="false" navButtonPress="onNavBack">
        <content>
          <VBox id="_IDGenVBox18" class="sapUiSmallMargin">
            <HBox id="_IDGenHBox17" justifyContent="SpaceBetween" class="reviewPageHBox" width="100%">
        
            <!-- âœ… LEFT CARD â€“ Captured Details Summary -->
            <VBox id="_IDGenVBox9" class="formCard margin-right" width="50%">
              <Title id="_IDGenTitle21" text="Review and Edit Details" level="H3" />
              <Text id="_IDGenText29" text="Verify the details below. Click 'Edit' to make changes." class="sapUiSmallMarginBottom" />

              <!-- External User Details Section -->
              <HBox id="_IDGenHBox18" justifyContent="SpaceBetween" class="sapUiSmallMarginTop">
                <Title id="_IDGenTitle22" text="External User Details" level="H4" />
                <Button id="_IDGenButton8"
                  text="{= ${userContext>/editUserDetails} ? 'Save' : 'Edit'}"
                  press=".onToggleEditUserDetails"
                  type="Emphasized"
                />
              </HBox>

              <VBox id="_IDGenVBox17" visible="{= !${userContext>/editUserDetails}}">
                <Text id="_IDGenText30" text="First Name: {userContext>/firstName}" />
                <Text id="_IDGenText31" text="Last Name: {userContext>/lastName}" />
                <Text id="_IDGenText33" text="Email: {userContext>/email}" />
              </VBox>

              <VBox id="_IDGenVBox19" visible="{userContext>/editUserDetails}">
                <Label id="_IDGenLabel10" text="First Name" />
                <Input id="_IDGenInput" value="{userContext>/firstName}" />
                <Label id="_IDGenLabel11" text="Last Name" />
                <Input id="_IDGenInput1" value="{userContext>/lastName}" />
                <Label id="_IDGenLabel12" text="Email" />
                <Input id="_IDGenInput2" value="{userContext>/email}" type="Email" />
              </VBox>

              <!-- Manufacturer Details Section -->
              <HBox id="_IDGenHBox19" justifyContent="SpaceBetween" class="sapUiSmallMarginTop">
                <Title id="_IDGenTitle23" text="Manufacturer Details" level="H4" />
                <Button id="_IDGenButton9"
                  text="{= ${userContext>/editManufacturerDetails} ? 'Save' : 'Edit'}"
                  press=".onToggleEditManufacturerDetails"
                />
              </HBox>

              <VBox id="_IDGenVBox20" visible="{= !${userContext>/editManufacturerDetails}}">
                <Text id="_IDGenText34" text="Manufacturer Number: {userContext>/manufacturerNumber}" />
                <Text id="_IDGenText35" text="Manufacturer Name: {userContext>/MFGName}" />
                <Text id="_IDGenText36" text="Profit Center: {userContext>/profitCentre}" />
                <Text id="_IDGenText37" text="Sales Org: {userContext>/salesOrg}" />
                <Text id="_IDGenText38" text="Sales Office: {userContext>/salesOffice}" />
              </VBox>

              <VBox id="_IDGenVBox21" visible="{userContext>/editManufacturerDetails}">
                <Label id="_IDGenLabel13" text="Manufacturer Number" />
                <Input id="_IDGenInput3" value="{userContext>/manufacturerNumber}" />
                <Label id="_IDGenLabel14" text="Manufacturer Name" />
                <Input id="_IDGenInput4" value="{userContext>/MFGName}" />
                <Label id="_IDGenLabel15" text="Profit Center" />
                <Input id="_IDGenInput5" value="{userContext>/profitCentre}" />
                <Label id="_IDGenLabel16" text="Sales Org" />
                <Input id="_IDGenInput6" value="{userContext>/salesOrg}" />
                <Label id="_IDGenLabel17" text="Sales Office" />
                <Input id="_IDGenInput7" value="{userContext>/salesOffice}" />
              </VBox>

              <!-- Group Assignment Section -->
              <HBox id="_IDGenHBox20" justifyContent="SpaceBetween" class="sapUiSmallMarginTop">
                <Title id="_IDGenTitle24" text="Group Assignment" level="H4" />
                <Button id="_IDGenButton10"
                  text="{= ${userContext>/editGroup} ? 'Save' : 'Edit'}"
                  press=".onToggleEditGroup"
                />
              </HBox>

              <VBox id="_IDGenVBox22" visible="{= !${userContext>/editGroup}}">
                <Text id="_IDGenText41" text="Selected Group: {userContext>/selectedGroupName}" 
                      visible="{= ${userContext>/groupAction} === 0}" />
                <Text id="_IDGenText42" text="New Group to be Created: {userContext>/newGroupName}" 
                      visible="{= ${userContext>/groupAction} === 1}" />
              </VBox>

              <VBox id="_IDGenVBox23" visible="{userContext>/editGroup}">
                <Label id="_IDGenLabel18" text="Choose Action" />
                <RadioButtonGroup id="_IDGenRadioButtonGroup" columns="2"
                                  selectedIndex="{userContext>/groupAction}">
                    <buttons>
                        <RadioButton id="_IDGenRadioButton2" text="Select Existing Group" />
                        <RadioButton id="_IDGenRadioButton3" text="Create New Group" />
                    </buttons>
                </RadioButtonGroup>

                <!-- Dropdown for Existing Groups -->
                <VBox id="_IDGenVBox13" visible="{= ${userContext>/groupAction} === 0 }">
                    <Label id="_IDGenLabel21" text="Select Group" />
                    <Select id="_IDGenSelect" 
                        width="22rem"
                        change=".onGroupChange"
                        selectedKey="{userContext>/selectedGroup}"
                        items="{
                            path: 'userContext>/groupDetails/groupList'
                        }">
                      <core:Item id="_IDGenItem1" key="{userContext>id}" text="{userContext>profile/name}" />
                    </Select>
                </VBox>

                <!-- Input for New Group -->
                <VBox id="_IDGenVBox24" visible="{= ${userContext>/groupAction} === 1 }">
                    <Label id="_IDGenLabel22" text="Create a New Group" />
                    <Input id="_IDGenInput12" placeholder="e.g. External_Mfg_Group"
                          value="{userContext>/newGroupName}"
                          width="20rem" />
                </VBox>
              </VBox>
            </VBox>
            <!-- âœ… RIGHT CARD â€“ Approval Steps & Tips -->
            <VBox id="_IDGenVBox25" class="instructionsCard margin-left" width="50%">
              <Title id="_IDGenTitle26" text="What Happens Next?" level="H3" />
              <List id="_IDGenList2">
                <StandardListItem id="_IDGenStandardListItem2"
                  title="User Provisioned in Okta"
                  description="The details you entered will be sent to Okta for account creation."
                  icon="sap-icon://sys-add"
                />
                <StandardListItem id="_IDGenStandardListItem3"
                  title="Welcome Email Sent"
                  description="The user will receive an email with instructions to set up Okta Verify."
                  icon="sap-icon://email"
                />
                <StandardListItem id="_IDGenStandardListItem4"
                  title="Vision Portal Access"
                  description="Once Okta is set up, the user can log in to the Vision Portal using the provided link."
                  icon="sap-icon://world"
                />
              </List>

              <Title id="_IDGenTitle27" text="Before You Finish" level="H4" class="sapUiSmallMarginTop" />
              <Text id="_IDGenText40"
                text="âœ” Double-check all details for accuracy â€” errors can delay access."
              />
            </VBox>
          </HBox>
        </VBox>
          
        </content>
        <footer>
          <Bar id="_IDGenBar3" >
            <contentRight>
              <Button id="_IDGenButton4"  
                  text="Start Over" 
                  type="Transparent"
                  press=".onStartOver" />
              <Button id="_IDGenButton6"  
                  text="Exit Wizard" 
                  press=".onExitWizard" />
              <Button id="_IDGenButton13" type="Emphasized" text="Submit" press="onSubmitOktaUser" />
            </contentRight>
          </Bar>
        </footer>
      </Page>
      <Page id="finishPage"
        title="Setup Complete!"
        showNavButton="false"
        class="sapUiContentPadding"
        backgroundDesign="Solid">

        <content>
          <VBox id="_IDGenVBox8" class="sapUiSmallMargin" alignItems="Center">
            <FlexBox id="_IDGenFlexBox9" alignItems="Center" justifyContent="Center" class="myIconCircleSolid" width="8rem" height="8rem" direction="Column">
              <core:Icon id="_IDGenIcon10" src="sap-icon://complete" class="icon-lime" size="4rem" />
            </FlexBox>
            
            <Title id="_IDGenTitle19" level="H2" text="You're all set!" class="sapUiSmallMarginTop" />
            <Text id="_IDGenText32" text="Your request has been successfully submitted. Access will be provisioned shortly." class="sapUiTinyMarginTop" />
            <Button id="_IDGenButton7" text="Back to Home" press=".onExitWizard" class="sapUiMediumMarginTop"/>
          </VBox>
        </content>

      </Page>

    </pages>
  </NavContainer>
</mvc:View>