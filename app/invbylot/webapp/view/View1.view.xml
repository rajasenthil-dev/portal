<mvc:View controllerName="invbylot.controller.View1"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:core="sap.ui.core" 
    xmlns:l="sap.ui.layout" 
    xmlns:t="sap.ui.table"
    xmlns:sf="sap.ui.comp.smartfilterbar" 
    xmlns:st="sap.ui.comp.smarttable" 
    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
    xmlns:my="invbylot.control" 
    displayBlock="true">
    <App id="app">
        <f:DynamicPage id="dynamicPage" showFooter="true">
            <f:header>
                <f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding">
                    <FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding  sapUiMediumMarginBottom borderBottom">
                        <HeaderContainer id="container1" scrollStep="200" height="100px">
                            <FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px">
                                <FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG">
                                    <Image id="logoImage" src="/img/logoipsum-325.svg" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" >
                                        <layoutData>
                                            <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/>
                                        </layoutData>
                                    </Image>
                                </FlexBox>
                            </FlexBox>  
                        </HeaderContainer>
                        <!-- <HeaderContainer id="container2" scrollStep="200">
                            <GenericTile id="_IDGenGenericTile1" class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>lastRefresh}" subheader="3/22/2024 6:30:57AM" frameType="OneByHalf">
                                <TileContent id="_IDGenTileContent1" class="refreshTitle" footer="Footer Text">
                                    <Text id="_IDGenText1" class="refreshText" text="3/22/2024 6:30:57AM"/>
                                </TileContent>
                            </GenericTile>
                        </HeaderContainer> -->
                    </FlexBox>
                    <sf:SmartFilterBar id="bar0" entitySet="INVENTORYBYLOT" useDateRangeType="true" persistencyKey="SmartFilterBar_INVENTORYBYLOT" smartVariant="pageVariant" liveMode="true" search="onSearch">
                        <sf:controlConfiguration>
                            
                        </sf:controlConfiguration>
                    </sf:SmartFilterBar>
                    <Panel id="_IDGenPanel1" expandable="true" expanded="true" headerText="{i18n>panelHeader}">

                        <HeaderContainer id="container4" scrollStep="200" orientation="Horizontal" gridLayout="true" class="mck_HeaderContainer">
                            <FlexBox id="IDGenFlexBox8" direction="Column" class="mck_Tile">
                                <FlexBox id="_IDGenFlexBox12" direction="Row">
                                    <ObjectStatus id="_IDGenObjectStatus" class="legendText" state="Success" text="{i18n>legend1}" />
                                </FlexBox>
                                <FlexBox id="_IDGenFlexBox13" direction="Row">
                                    <ObjectStatus id="_IDGenObjectStatus1" class="legendText" state="Warning" text="{i18n>legend2}" />
                                </FlexBox>
                                <FlexBox id="_IDGenFlexBox14" direction="Row">
                                    <ObjectStatus id="_IDGenObjectStatus2" class="legendText" state="Error" text="{i18n>legend3}" />
                                </FlexBox>

                            </FlexBox>
                        </HeaderContainer>
                    </Panel>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                
                <st:SmartTable 
                    xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
                    width="100%" 
                    direction="Column" 
                    fitContainer="true" 
                    tableType="Table" 
                    header="{i18n>tableTitle}" 
                    enableAutoBinding="true" 
                    id="table0" 
                    smartFilterId="bar0" 
                    cd:w5g.dt.context="/INVETORYBYLOT" 
                    entitySet="INVENTORYBYLOT" 
                    placeToolbarInTable="true" 
                    useExportToExcel="true" 
                    beforeExport="onBeforeExport" 
                    useVariantManagement="true" 
                    useTablePersonalisation="true"
                    customData:p13nDialogSettings='{filter:{visible:false}}' 
                    showRowCount="true" 
                    persistencyKey="SmartTable_INVBYLOT" 
                    demandPopin="true" 
                    enableAutoColumnWidth="true" 
                    class="sapUiResponsiveContentPadding"
                >
                    <t:Table 
                        id="table" 
                        selectionMode="None"
                        alternateRowColors="true">
                        <t:rowSettingsTemplate>
                            <t:RowSettings id="_IDGenRowSettings" highlight="{path:'DAYS_UNTIL_EXPIRY', formatter:'._formatRowHighlight'}" highlightText="{DAYS_UNTIL_EXPIRY}"/>
                        </t:rowSettingsTemplate>
                        <t:columns>
                            <t:Column id="_IDGenColumn11" autoResizable="true" width="5rem" hAlign="End" sortProperty="MATNR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MATNR", "leadingProperty": "MATNR", "columnIndex": 0}'/>
                                </t:customData>
                                <Text id="_IDGenText14" text="{i18n>INVENTORYBYLOT.MATNR}"></Text>
                                <t:template>
                                    <Text id="sku" text="{path: 'MATNR', formatter: '.removeLeadingZeros'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="MFRPN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MFRPN", "leadingProperty": "MFRPN", "columnIndex": 1}'/>
                                </t:customData>
                                <Text id="_IDGenText3" text="{i18n>INVENTORYBYLOT.MFRPN}"></Text>
                                <t:template>
                                    <Text id="_IDGenText5" text="{path: 'MFRPN'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn2" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="SIZE">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "SIZE", "leadingProperty": "SIZE", "columnIndex": 3}'/>
                                </t:customData>
                                <Text id="_IDGenText6" text="{i18n>INVENTORYBYLOT.SIZE}"></Text>
                                <t:template>
                                    <Text id="_IDGenText7" text="{path: 'SIZE'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn3" width='12rem' hAlign="Center" sortProperty="DAYS_UNTIL_EXPIRY">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "DAYS_UNTIL_EXPIRY", "leadingProperty": "DAYS_UNTIL_EXPIRY", "columnIndex": 5}'/>
                                </t:customData>
                                <Text id="_IDGenText2" text="{i18n>INVENTORYBYLOT.DAYS_UNTIL_EXPIRY}"></Text>
                                <t:template>
                                    <FlexBox id="_IDGenHBox" height="2.5rem"  width="100%" justifyContent="Center">
                                        <my:SegmentedProgressBar
                                            id="_IDGenSegmentedProgressBar"
                                            value="{DAYS_UNTIL_EXPIRY}"
                                            width="100%" >
                                            <my:layoutData>
                                                <FlexItemData id="_IDGenFlexItemData" growFactor="1" />
                                            </my:layoutData>
                                        </my:SegmentedProgressBar>
                                    </FlexBox>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn1" autoResizable="true" width="10rem" hAlign="End" sortProperty="VFDAT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "VFDAT", "leadingProperty": "VFDAT", "columnIndex": 4}'/>
                                </t:customData>
                                <Text id="_IDGenText4" text="{i18n>INVENTORYBYLOT.VFDAT}"></Text>
                                <t:template>
                                    <Text id="exipryDate" text="{path: 'VFDAT', type: 'sap.ui.model.odata.type.Date'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn5" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="CHARG">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "CHARG", "leadingProperty": "CHARG", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText" text="{i18n>INVENTORYBYLOT.CHARG}"></Text>
                                <t:template>
                                    <Text id="_IDGenText8" text="{path: 'CHARG'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn6" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="EAN11">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "EAN11", "leadingProperty": "EAN11", "columnIndex": 8}'/>
                                </t:customData>
                                <Text id="_IDGenText9" text="{i18n>INVENTORYBYLOT.EAN11}"></Text>
                                <t:template>
                                    <Text id="_IDGenText10" text="{path: 'EAN11'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn4" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="LGNUM">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "LGNUM", "leadingProperty": "LGNUM", "columnIndex": 11}'/>
                                </t:customData>
                                <Text id="_IDGenText12" text="{i18n>INVENTORYBYLOT.LGNUM}"></Text>
                                <t:template>
                                    <Text id="_IDGenText13" text="{path: 'LGNUM'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn7" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="DIN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "DIN", "leadingProperty": "DIN", "columnIndex": 12}'/>
                                </t:customData>
                                <Text id="_IDGenText15" text="{i18n>INVENTORYBYLOT.DIN}"></Text>
                                <t:template>
                                    <Text id="_IDGenText16" text="{path: 'DIN'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn8" autoResizable="true" width="6rem" hAlign="End" sortProperty="PLANT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "PLANT", "leadingProperty": "PLANT", "columnIndex": 13}'/>
                                </t:customData>
                                <Text id="_IDGenText17" text="{i18n>INVENTORYBYLOT.PLANT}"></Text>
                                <t:template>
                                    <Text id="_IDGenText18" text="{path: 'PLANT'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn9" autoResizable="true" width="6rem" hAlign="End" sortProperty="VKBUR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "VKBUR", "leadingProperty": "VKBUR", "columnIndex": 15}'/>
                                </t:customData>
                                <Text id="_IDGenText19" text="{i18n>INVENTORYBYLOT.VKBUR}"></Text>
                                <t:template>
                                    <Text id="_IDGenText20" text="{path: 'VKBUR'}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn10" autoResizable="true" width="7.813rem" hAlign="End" sortProperty="MFRNR" visible="false">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MFRNR", "leadingProperty": "MFRNR", "columnIndex": 16}'/>
                                </t:customData>
                                <Text id="_IDGenText21" text="{i18n>INVENTORYBYLOT.MFRNR}"></Text>
                                <t:template>
                                    <Text id="_IDGenText22" text="{path: 'MFRNR'}" />
                                </t:template>
                            </t:Column>
                        </t:columns> 
                    </t:Table>
                </st:SmartTable>
            </f:content>
            <f:footer>
                <OverflowToolbar id="_IDGenOverflowToolbar1" class="footer">
                    

                    <!--Added by Bryan Cash in order to make the footer fully responsive for mobile devices    -->               
                    <FlexBox id="_IDGenFlexBox9" width="100%" justifyContent="SpaceBetween" wrap="Wrap">
                        <FlexBox id="_IDGenFlexBox10">
                            <ObjectIdentifier id="_IDGenObjectIdentifier1"
                                title="{i18n>totals}"
                                class="footerTitle"/>
                        </FlexBox>
                        <FlexBox id="_IDGenFlexBox11" >
                            <HBox id="_IDGenHBox2" class="sapUiSmallMarginEnd">
                                <Label id="_IDGenLabel2" text="{i18n>footerLabel1}:" class="cssLabelTotal"/>
                                <Text id="footerText1" class="footerText" text =""/>
                            </HBox>
                            <HBox id="_IDGenHBox3" class="sapUiSmallMarginEnd">
                                    <Label id="_IDGenLabel3" text="{i18n>footerLabel2}:" class="cssLabelTotal"/>
                                <Text id="footerText2" class="footerText" text =""/>
                            </HBox>	
                        </FlexBox>
                    </FlexBox>
                </OverflowToolbar>
            </f:footer>
        </f:DynamicPage>
    </App>
</mvc:View>