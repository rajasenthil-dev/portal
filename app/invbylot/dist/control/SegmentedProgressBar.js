sap.ui.define(["sap/ui/core/Control","sap/m/ProgressIndicator","sap/m/Text","sap/ui/core/library"],function(e,t,a,r){"use strict";var i=r.ValueState;return e.extend("invbylot.control.SegmentedProgressBar",{metadata:{properties:{value:{type:"int",defaultValue:null},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}},aggregations:{_progressBar:{type:"sap.m.ProgressIndicator",multiple:false,visibility:"hidden"},_label:{type:"sap.m.Text",multiple:false,visibility:"hidden"},layoutData:{type:"sap.ui.core.LayoutData",multiple:false,singularName:"layoutData"}}},init:function(){this.setAggregation("_progressBar",new t({percentValue:0,showValue:false,width:"100%"}));this.setAggregation("_label",new a({width:"100%"}))},onBeforeRendering:function(){var e=this.getModel("i18n")?this.getModel("i18n").getResourceBundle():null;var t=this.getValue();var a=i.Error;var r=0;var s=e?e.getText("noExpirationDate"):"No Expiration Date";if(t===0){a=i.None;r=100;s=e.getText("noExpirationDate")}else if(t===null||isNaN(t)){a=i.None;r=100;s=e.getText("noExpirationDate")}else if(t>=120){a=i.Success;r=100;s=t+" "+e.getText("daysLeft")}else if(t>0){a=i.Warning;r=Math.max(Math.round(t/120*100),1);s=t+" "+e.getText("daysLeft")}else{a=i.Error;r=100;s=e.getText("expired")}var n=this.getAggregation("_progressBar");var o=this.getAggregation("_label");if(n){n.setPercentValue(r);n.setState(a)}if(o){o.setText(s);o.setTooltip(s)}},renderer:function(e,t){e.openStart("div",t);e.style("width",t.getWidth());e.class("mySegmentedProgressBar");e.openEnd();var a=t.getAggregation("_label");var r=t.getAggregation("_progressBar");if(a){e.renderControl(a)}if(r){e.renderControl(r)}e.close("div")}})});
//# sourceMappingURL=SegmentedProgressBar.js.map