//@ui5-bundle invmb51/Component-preload.js
sap.ui.predefine("invmb51/Component", ["sap/ui/core/UIComponent","invmb51/model/models"],(e,t)=>{"use strict";return e.extend("invmb51.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("invmb51/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("invmb51.controller.App",{onInit(){}})});
sap.ui.predefine("invmb51/controller/Main.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageBox"],(e,t)=>{"use strict";return e.extend("invmb51.controller.Main",{onInit(){var e=this.getOwnerComponent().getModel();const o=this.getView();const s=o.byId("bar0");const n=this.getOwnerComponent().getRouter();n.getRoute("RouteMain").attachPatternMatched(this._onPatternMatched,this);o.setBusy(true);s.attachInitialized(function(){o.setBusy(false)});e.attachRequestFailed(function(e){var o=e.getParameters();if(o.response.statusCode==="403"){oTable.setNoData("No data available due to authorization restrictions");oTable.setBusy(false);if(!this.bAuthorizationErrorShown){this.bAuthorizationErrorShown=true;t.error("You do not have the required permissions to access this report.",{title:"Unauthorized Access",id:"messageBoxId1",details:"Permission is required to access this report. Please contact your administrator if you believe this is an error or require access.",contentWidth:"100px"})}}})},_onPatternMatched:async function(){await this._refreshUserModel();console.log("RouteView1 pattern matched – fetching logo...");this._fetchAndSetLogo()},_refreshUserModel:async function(){const e=this.getOwnerComponent().getModel("userModel");var t=sap.ui.require.toUrl("invmb51").split("/resources")[0];if(t==="."){t=""}const o=t+"/user-api/attributes";try{const t=await fetch(o);const s=await t.json();e.setData(s);console.log("✅ User model refreshed:",s)}catch(e){console.error("❌ Failed to fetch user info",e)}},_fetchAndSetLogo:function(){const e=this.getView();const t=this.getOwnerComponent().getModel("userModel");const o=t?t.getData():{};const s=o.ManufacturerNumber;const n=e.byId("logoImage");var r=sap.ui.require.toUrl("invmb51").split("/resources")[0];if(r==="."){r=""}const i=r+"/images/MCKCAN1.jpg";if(!s){console.warn("No ManufacturerNumber in user model. Showing fallback logo.");n.setSrc(i);return}const a=this.getOwnerComponent().getModel("logo");const c=new sap.ui.model.Filter("manufacturerNumber","EQ",s);const u=a.bindList("/MediaFile",undefined,undefined,[c]);u.requestContexts().then(function(e){if(e&&e.length>0){const t=e[0].getObject();const o=t.url.replace(/^.*(?=\/odata\/v4\/media)/,"");const s=r+o;n.setSrc(s)}else{console.warn("No matching logo found. Fallback image used.");n.setSrc(i)}}.bind(this)).catch(function(e){console.error("Binding error:",e);n.setSrc(i)}.bind(this))}})});
sap.ui.predefine("invmb51/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"invmb51/i18n/i18n.properties":'# This is the resource bundle for invmb51\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=SAP Goods Movement\n\n#YDES: Application description\nappDescription=SAP Goods Movement\n#XTIT: Main view title\ntitle=SAP Goods Movement\n\n#XFLD,90\ninvmb51-display.flpTitle=SAP Goods Movement\ntableTitle=Goods Mvmnt\nINVENTORYAUDITTRAIL.BUDAT=Posting Date',
	"invmb51/i18n/i18n_en.properties":'# This is the resource bundle for invmb51\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=SAP Goods Movement\n\n#YDES: Application description\nappDescription=SAP Goods Movement\n#XTIT: Main view title\ntitle=SAP Goods Movement\n\n#XFLD,90\ninvmb51-display.flpTitle=SAP Goods Movement\nflpSubTitle=Inventory Goods Movement\nflpIcon=sap-icon://inventory\ntableTitle=Goods Mvmnt\nINVENTORYAUDITTRAIL.BUDAT=Posting Date',
	"invmb51/manifest.json":'{"_version":"1.81.0","sap.app":{"id":"invmb51","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":["","en"]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.20.1","toolsId":"c6b2dc2a-4429-413d-a9a2-c4c0fd6fbb24"},"dataSources":{"mainService":{"uri":"/odata/v2/inventory/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"logoService":{"uri":"/odata/v4/media/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}},"UserApi":{"uri":"/user-api/attributes","type":"JSON","settings":{"useBatch":false,"json":true}}},"crossNavigation":{"inbounds":{"invmb51-display":{"semanticObject":"invmb51","action":"display","title":"{{invmb51-display.flpTitle}}","subTitle":"{{flpSubTitle}}","icon":"{{flpIcon}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.144.0","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"invmb51.i18n.i18n","supportedLocales":["en","fr"],"fallbackLocale":"en"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"logo":{"type":"sap.ui.model.odata.v4.ODataModel","dataSource":"logoService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"userModel":{"dataSource":"UserApi","settings":{}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"invmb51.view","async":true,"viewPath":"invmb51.view"},"routes":[{"name":"RouteMain","pattern":":?query:","target":["TargetMain"]}],"targets":{"TargetMain":{"id":"Main","name":"Main"}}},"rootView":{"viewName":"invmb51.view.App","type":"XML","id":"App","async":true},"flexBundle":false},"sap.cloud":{"public":true,"service":"mck.portal"}}',
	"invmb51/view/App.view.xml":'<mvc:View controllerName="invmb51.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"invmb51/view/Main.view.xml":'<mvc:View controllerName="invmb51.controller.Main"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:f="sap.f" \n    xmlns:core="sap.ui.core" \n    xmlns:l="sap.ui.layout"\n    xmlns:t="sap.ui.table"\n    xmlns:sf="sap.ui.comp.smartfilterbar"\n    xmlns:st="sap.ui.comp.smarttable" \n    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" \n    displayBlock="true"><App id="id_app"><f:DynamicPage id="dynamicPage" showFooter="true"><f:header><f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding"><FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding sapUiMediumMarginBottom borderBottom"><HeaderContainer id="container1" scrollStep="200" height="100px"><FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px"><FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG"><Image id="logoImage" src="/img/logoipsum-325.svg" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" ><layoutData><OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/></layoutData></Image></FlexBox></FlexBox></HeaderContainer></FlexBox><sf:SmartFilterBar \n                        id="bar0" \n                        entitySet="INVENTORYMB51REP"  \n                        useDateRangeType="true" \n                        persistencyKey="SmartFilterBar_INVENTORYMB51REP" \n                        smartVariant="pageVariant" \n                        liveMode="true" \n                        search="onSearch"><sf:controlConfiguration><sf:ControlConfiguration id="_IDGenControlConfiguration4"\n                                key="BUDAT"\n                                visibleInAdvancedArea="true"\n                                conditionType="{\n                                    module: \'sap.ui.comp.config.condition.DateRangeType\'\n                                }"\n                            /></sf:controlConfiguration></sf:SmartFilterBar></f:DynamicPageHeader></f:header><f:content><st:SmartTable \n                    xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" \n                    width="100%" \n                    direction="Column" \n                    fitContainer="true" \n                    tableType="ResponsiveTable" \n                    header="{i18n>tableTitle}" \n                    enableAutoBinding="true" \n                    id="table0" \n                    smartFilterId="bar0" \n                    cd:w5g.dt.context="/INVENTORYMB51REP" \n                    entitySet="INVENTORYMB51REP" \n                    placeToolbarInTable="true"\n                    useExportToExcel="true" \n                    beforeExport="onBeforeExport" \n                    useVariantManagement="true" \n                    useTablePersonalisation="true" \n                    customData:p13nDialogSettings=\'{filter:{visible:false}}\'\n                    showRowCount="true" \n                    persistencyKey="SmartTable_INVMB51" \n                    busy="false"\n                    class="sapUiResponsiveContentPadding"\n                    ><t:Table id="table" selectionMode="None" alternateRowColors="true"><t:Column id="_IDGenColumn1" width=\'8rem\' hAlign="End" sortProperty="BUDAT"><t:customData><core:CustomData key="p13nData" value=\'\\{"columnKey": "BUDAT", "leadingProperty": "BUDAT", "columnIndex": 5}\'/></t:customData><Text id="_IDGenText2" text="{i18n>INVENTORYAUDITTRAIL.BUDAT}"></Text><t:template><Text \n                                        id="_IDGenText4" \n                                        text="{\n                                            path: \'BUDAT\', \n                                            type: \'sap.ui.model.odata.type.Date\',\n                                            formatOptions: { \n                                                style: \'medium\'\n                                            } \n                                        }"/></t:template></t:Column></t:Table></st:SmartTable></f:content></f:DynamicPage></App></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
