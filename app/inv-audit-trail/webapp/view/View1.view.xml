<mvc:View controllerName="invaudittrail.controller.View1"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:core="sap.ui.core" 
    xmlns:l="sap.ui.layout"
    xmlns:t="sap.ui.table"
    xmlns:sf="sap.ui.comp.smartfilterbar"
    xmlns:st="sap.ui.comp.smarttable" 
    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
    displayBlock="true">
    <App id="app">
        <f:DynamicPage id="dynamicPage" showFooter="true">
            <f:header>
                <f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding">
                    <FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding sapUiMediumMarginBottom borderBottom">
                        <HeaderContainer id="container1" scrollStep="200" height="100px">
                            <FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px">
                                <FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG">
                                    <Image id="logoImage" src="/img/logoipsum-325.svg" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" >
                                        <layoutData>
                                            <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/>
                                        </layoutData>
                                    </Image>
                                </FlexBox>
                            </FlexBox>  
                        </HeaderContainer>
                        <!-- <HeaderContainer id="container2" scrollStep="200">
                            <GenericTile id="_IDGenGenericTile1" class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>lastRefresh}" subheader="3/22/2024 6:30:57AM" frameType="OneByHalf">
                                <TileContent id="_IDGenTileContent1" class="refreshTitle" footer="Footer Text">
                                    <Text id="_IDGenText1" class="refreshText" text="3/22/2024 6:30:57AM"/>
                                </TileContent>
                            </GenericTile>
                        </HeaderContainer> -->
                    </FlexBox>
                    <sf:SmartFilterBar 
                        id="bar0" 
                        entitySet="INVENTORYAUDITTRAIL"  
                        useDateRangeType="true" 
                        persistencyKey="SmartFilterBar_INVENTORYAUDITTRAIL" 
                        smartVariant="pageVariant" 
                        liveMode="true" 
                        search="onSearch">
                        <sf:controlConfiguration>
                            <sf:ControlConfiguration id="_IDGenControlConfiguration4"
                                key="POSTING_DATE"
                                visibleInAdvancedArea="true"
                                conditionType="{
                                    module: 'sap.ui.comp.config.condition.DateRangeType'
                                }"
                            />
                        </sf:controlConfiguration>
                        <sf:controlConfiguration>
                            <sf:ControlConfiguration id="customCurrentFilter"
                                key="CURRENT"
                                visibleInAdvancedArea="true"
                                label="{i18n>INVENTORYAUDITTRAIL.CURRENT}"
                            >
                                <sf:customControl>
                                    <ComboBox id="currentFilterBox" selectedKey="{filters>/currentStatus}">
                                        <items>
                                            <core:Item id="_IDGenItem2" key="" text="{i18n>INVENTORYAUDITTRAIL.ALLTEXT}"/>
                                            <core:Item id="_IDGenItem" key="YES" text="{i18n>INVENTORYAUDITTRAIL.CURRENTTEXT}"/>
                                            <core:Item id="_IDGenItem1" key="NO" text="{i18n>INVENTORYAUDITTRAIL.LEGACYTEXT}"/>
                                        </items>
                                    </ComboBox>
                                </sf:customControl>
                            </sf:ControlConfiguration>
                        </sf:controlConfiguration>
                    </sf:SmartFilterBar>
                    <Panel
                        id="MonthlyPanel"
                        headerText="{i18n>panelHeader}"
                        expandable="true"
                        expanded="true"
                        class="monthlyPanel panelBottomSeparator">

                        <VBox id="_IDGenVBox1"
                            width="100%"
                            class="tilePanelContent">
                            
                            
                            <VBox id="_IDGenVBox3" class="mckPanelInner" width="100%">
                                <HBox id="_IDGenHBox1" class="mckSectionHeader">
                                    <Text id="_IDGenText6" text="Transaction Type Totals" class="mckSectionHeaderText"/>
                                    <HBox id="_IDGenHBox3" class="mckSectionHeaderLine"/>
                                </HBox>
                                <Text id="_IDGenText7" text="Sum of transaction types. " class="mckSubText"/>
                    
                                <VBox id="_IDGenVBox2" class="mckMonthZone">
                                    <FlexBox 
                                        id="monthBadgesBox"
                                        justifyContent="Center"
                                        alignItems="Start"
                                        wrap="Wrap"
                                        class="mckMonthBadgeContainer">
                                    </FlexBox>
                                </VBox>
                            </VBox>
                        </VBox>
                    </Panel>
                    <!-- <Panel id="panel1" expandable="true" expanded="true" headerText="{i18n>panelHeader}">
                        <HeaderContainer id="container4" scrollStep="200" orientation="Horizontal" gridLayout="true" class="mck_HeaderContainer">
                            <FlexBox id="_IDGenFlexBox1" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle1" class="mck_TileContentTitle" text="{i18n>tileTitle1}"/>
                                <Text id="_IDGenNumericContent1" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox2" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle2" class="mck_TileContentTitle" text="{i18n>tileTitle2}"/>
                                <Text id="_IDGenNumericContent2" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox3" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle3" class="mck_TileContentTitle" text="{i18n>tileTitle3}"/>
                                <Text id="_IDGenNumericContent3" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox4" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle4" class="mck_TileContentTitle" text="{i18n>tileTitle4}"/>
                                <Text id="_IDGenNumericContent4" class="mck_TileContent" text=""/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox5" direction="Column" class="mck_Tile">
                                <Title id="_IDGenTitle5" class="mck_TileContentTitle" text="{i18n>tileTitle5}"/>
                                <Text id="_IDGenNumericContent5" class="mck_TileContent" text=""/>
                            </FlexBox>
                            
                        </HeaderContainer>
                    </Panel> -->
                    
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <st:SmartTable 
                    xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
                    width="100%" 
                    direction="Column" 
                    fitContainer="true" 
                    tableType="ResponsiveTable" 
                    header="{i18n>tableTitle}" 
                    enableAutoBinding="true" 
                    id="table0" 
                    smartFilterId="bar0" 
                    cd:w5g.dt.context="/INVENTORYAUDITTRAIL" 
                    entitySet="INVENTORYAUDITTRAIL" 
                    placeToolbarInTable="true"
                    useExportToExcel="true" 
                    beforeExport="onBeforeExport" 
                    useVariantManagement="true" 
                    useTablePersonalisation="true" 
                    customData:p13nDialogSettings='{filter:{visible:false}}'
                    showRowCount="true" 
                    persistencyKey="SmartTable_INVAUDIT" 
                    busy="false"
                    class="sapUiResponsiveContentPadding"
                    >
                    <t:Table id="table" selectionMode="None" alternateRowColors="true">
                        <t:columns>
                            <t:Column id="_IDGenColumn11" width='7.813rem' hAlign="Center" sortProperty="CURRENT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "CURRENT", "leadingProperty": "CURRENT", "columnIndex": 0}'/>
                                </t:customData>
                                <Text id="_IDGenText31" text="{i18n>INVENTORYAUDITTRAIL.CURRENT}"></Text>
                                <t:template>
                                    <ObjectStatus id="_IDGenObjectStatus"
                                    core:require="{
                                            Formatter: 'invaudittrail/model/formatter'
                                        }"
                                        icon="{path: 'CURRENT', formatter:'Formatter.yesNoIcon'}"
                                        inverted="true"
                                        state="{path: 'CURRENT', formatter: 'Formatter.yesNoIconColor'}"
                                        text="{= ${CURRENT} === 'YES' ? ${i18n>INVENTORYAUDITTRAIL.CURRENTTEXT} : ${i18n>INVENTORYAUDITTRAIL.LEGACYTEXT}}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn12" width='7.813rem' hAlign="End" sortProperty="MATNR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MATNR", "leadingProperty": "MATNR", "columnIndex": 1}'/>
                                </t:customData>
                                <Text id="_IDGenText312" text="{i18n>INVENTORYAUDITTRAIL.MATNR}"></Text>
                                <t:template>
                                    <Text id="sku" text="{path: 'MATNR', formatter: '.removeLeadingZeros'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn121" width='7.813rem' hAlign="End" sortProperty="MFRNR_PROD_CODE">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MFRNR_PROD_CODE", "leadingProperty": "MFRNR_PROD_CODE", "columnIndex": 2}'/>
                                </t:customData>
                                <Text id="_IDGenText3121" text="{i18n>INVENTORYAUDITTRAIL.MFRNR_PROD_CODE}"></Text>
                                <t:template>
                                    <Text id="sku1" text="{path: 'MFRNR_PROD_CODE'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn2" width='6rem' hAlign="Center" sortProperty="NARCOTICS_IND">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "NARCOTICS_IND", "leadingProperty": "NARCOTICS_IND", "columnIndex": 3}'/>
                                </t:customData>
                                <Text id="_IDGenText" text="{i18n>INVENTORYAUDITTRAIL.NARCOTICS_IND}"></Text>
                                <t:template>
                                    <ObjectStatus id="_IDGenObjectStatus1"
                                    core:require="{
                                            Formatter: 'invaudittrail/model/formatter'
                                        }"
                                        icon="{path: 'NARCOTICS_IND', formatter:'Formatter.yesNoIconN'}"
                                        
                                        state="{path: 'NARCOTICS_IND', formatter: 'Formatter.yesNoIconColorN'}"
                                        />
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn1" width='8rem' hAlign="End" sortProperty="POSTING_DATE">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "POSTING_DATE", "leadingProperty": "POSTING_DATE", "columnIndex": 5}'/>
                                </t:customData>
                                <Text id="_IDGenText2" text="{i18n>INVENTORYAUDITTRAIL.POSTING_DATE}"></Text>
                                <t:template>
                                    <Text 
                                        id="_IDGenText4" 
                                        text="{
                                            path: 'POSTING_DATE', 
                                            type: 'sap.ui.model.odata.type.Date',
                                            formatOptions: { 
                                                style: 'medium'
                                            } 
                                        }"/>
                                </t:template>
                            </t:Column>
                            <!-- <t:Column id="_IDGenColumn22" width='8rem' hAlign="End" sortProperty="POSTING_TIME">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "POSTING_TIME", "leadingProperty": "POSTING_TIME", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText222" text="{i18n>INVENTORYAUDITTRAIL.POSTING_TIME}"></Text>
                                <t:template>
                                    <Text 
                                        id="_IDGenText42" 
                                        text="{
                                            path: 'POSTING_TIME', 
                                            type: 'sap.ui.model.odata.type.Time',
                                            formatOptions: {
                                                source: {
                                                    pattern: 'h:mm:ss a'
                                                },
                                                pattern: 'h:mma'
                                            } 
                                        }"/>
                                </t:template>
                            </t:Column> -->
                            <!-- <t:Column id="_IDGenColumn3" width='8rem' hAlign="End" sortProperty="POSTING_TIME">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "POSTING_TIME", "leadingProperty": "POSTING_TIME", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText9" text="{i18n>INVENTORYAUDITTRAIL.POSTING_TIME}"></Text>
                                <t:template>
                                    <Text 
                                        core:require="{Formatter: 'invaudittrail/model/formatter'}"
                                        id="_IDGenText10" 
                                        text="{path: 'POSTING_TIME', formatter: 'Formatter.toESTFromUTC'}"/>
                                </t:template>
                            </t:Column> -->
                            <t:Column id="_IDGenColumn" width='7.813rem' hAlign="End" sortProperty="SHELF_LIFE_EXP_DT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "SHELF_LIFE_EXP_DT", "leadingProperty": "SHELF_LIFE_EXP_DT", "columnIndex": 12}'/>
                                </t:customData>
                                <Text id="_IDGenText3" text="{i18n>INVENTORYAUDITTRAIL.SHELF_LIFE_EXP_DT}"></Text>
                                <t:template>
                                    <Text id="invoiceDate" text="{= ${SHELF_LIFE_EXP_DT} === '00000000' ? ' ' : ${path: 'SHELF_LIFE_EXP_DT', type: 'sap.ui.model.odata.type.Date'}}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn12121" width='10rem' hAlign="End" sortProperty="KUNNR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "KUNNR", "leadingProperty": "KUNNR", "columnIndex": 13}'/>
                                </t:customData>
                                <Text id="_IDGenText32" text="{i18n>INVENTORYAUDITTRAIL.KUNNR}"></Text>
                                <t:template>
                                    <Text id="invoiceDate2" text="{path: 'KUNNR'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn121213" width='10rem' hAlign="End" sortProperty="INV_ADJ_RECEIPT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "INV_ADJ_RECEIPT", "leadingProperty": "INV_ADJ_RECEIPT", "columnIndex": 15}'/>
                                </t:customData>
                                <Text id="_IDGenText323" text="{i18n>INVENTORYAUDITTRAIL.INV_MATDOC_ITEM}"></Text>
                                <t:template>
                                    <Text id="invoiceDate23" text="{path: 'INV_ADJ_RECEIPT'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn23" width='5rem' hAlign="End" sortProperty="DIN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "DIN", "leadingProperty": "DIN", "columnIndex": 16}'/>
                                </t:customData>
                                <Text id="_IDGenText322" text="{i18n>INVENTORYAUDITTRAIL.DIN}"></Text>
                                <t:template>
                                    <Text id="invoiceDate22" text="{path: 'DIN'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn234" width='5rem' hAlign="End" sortProperty="WERKS">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "WERKS", "leadingProperty": "WERKS", "columnIndex": 17}'/>
                                </t:customData>
                                <Text id="_IDGenText3224" text="{i18n>INVENTORYAUDITTRAIL.WERKS}"></Text>
                                <t:template>
                                    <Text id="invoiceDate24" text="{path: 'WERKS'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn4"  width='8rem' hAlign="End" sortProperty="CONFIRMED_AT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "CONFIRMED_AT", "leadingProperty": "CONFIRMED_AT", "columnIndex": 6}'/>
                                </t:customData>
                                <Text
                                    id="_IDGenText1" 
                                    text="{i18n>INVENTORYAUDITTRAIL.POSTING_TIME}"></Text>
                                <t:template>
                                    <Text 
                                     core:require="{Formatter: 'invaudittrail/model/formatter'}"
                                     id="_IDGenText5" 
                                     text="{
                                        path: 'CONFIRMED_AT', formatter: 'Formatter.formatTimeEST'
                                        
                                    }"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn6" width='7.813rem' hAlign="End" sortProperty="SALES_ORG" visible="true">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "SALES_ORG", "leadingProperty": "SALES_ORG", "columnIndex": 24}'/>
                                </t:customData>
                                <Text id="_IDGenText8" text="{i18n>INVENTORYAUDITTRAIL.SALES_ORG}"></Text>
                                <t:template>
                                    <Text id="_IDGenText11" text="{path: 'SALES_ORG'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn25" width='7.813rem' hAlign="End" sortProperty="MFRNR" visible="false">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "MFRNR", "leadingProperty": "MFRNR", "columnIndex": 21}'/>
                                </t:customData>
                                <Text id="_IDGenText325" text="{i18n>INVENTORYAUDITTRAIL.MFRNR}"></Text>
                                <t:template>
                                    <Text id="invoiceDate25" text="{path: 'MFRNR'}"/>
                                </t:template>
                            </t:Column>
                            <!-- <t:Column id="_IDGenColumn1" width='7.813rem'>
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "NETWR", "leadingProperty": "NETWR", "columnIndex": 5}'/>
                                </t:customData>
                                <Text id="_IDGenText4" text="Invoice Amount"></Text>
                                <t:template>
                                    <Text id="invoiceAmount" text="{path: 'NETWR', formatter: '._formatCurrency'}"/>
                                </t:template>
                            </t:Column> -->
                            <!-- <t:Column id="_IDGenColumn2" width='7.813rem'>
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "CAL_CASH_RECEIVED", "leadingProperty": "CAL_CASH_RECEIVED", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText5" text="Cash Received"></Text>
                                <t:template>
                                    <Text id="cashReceived" text="{path: 'CAL_CASH_RECEIVED', formatter: '._formatCurrency'}"/>
                                </t:template>
                            </t:Column> -->
                            <!-- <t:Column id="_IDGenColumn3" width='7.813rem'>
                                <t:customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "BUDAT", "leadingProperty": "BUDAT", "columnIndex": 10}'/>
                                </t:customData>
                                <Text id="_IDGenText6" text="Deposit Date"></Text>
                                <t:template>
                                    <Text id="depositDate" text="{path: 'BUDAT', formatter: '._formatDate'}"/>
                                </t:template>
                            </t:Column> -->
                        </t:columns>
                    </t:Table>
                </st:SmartTable>
            </f:content>
            <f:footer>
                <OverflowToolbar id="_IDGenOverflowToolbar1" class="footer">              
                    <FlexBox id="_IDGenFlexBox9" width="100%" justifyContent="SpaceBetween" wrap="Wrap">
                        <FlexBox id="_IDGenFlexBox10">
                            <ObjectIdentifier id="_IDGenObjectIdentifier1"
                                title="{i18n>totals}"
                                class="footerTitle"/>
                        </FlexBox>
                        <FlexBox id="_IDGenFlexBox11" >
                            <HBox id="_IDGenHBox2" class="sapUiSmallMarginEnd">
                                <Label id="_IDGenLabel2" text="{i18n>footerLabel1}:" class="cssLabelTotal"/>
                                <Text id="footerText1" class="footerText" text =""/>
                            </HBox>
                        </FlexBox>
                    </FlexBox>
                </OverflowToolbar>
            </f:footer>
        
        </f:DynamicPage>
    </App>
</mvc:View>