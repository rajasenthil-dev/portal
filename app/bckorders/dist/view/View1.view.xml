<mvc:View controllerName="bckorders.controller.View1"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:core="sap.ui.core" 
    xmlns:l="sap.ui.layout" 
    xmlns:t="sap.ui.table"
    xmlns:sf="sap.ui.comp.smartfilterbar" 
    xmlns:st="sap.ui.comp.smarttable" 
    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    displayBlock="true">
    <App id="app">
        <f:DynamicPage id="dynamicPage" showFooter="true">
            <f:header>
                <f:DynamicPageHeader id="dynamicPageHeader" class="noPadding">
                    <FlexBox id="headerFlexBox" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding sapUiMediumMarginBottom borderBottom">
                        <HeaderContainer id="logoContainer" scrollStep="200" height="100px">
                            <FlexBox id="_IDGenFlexBox" alignItems="Center" height="100px">
                                <FlexBox id="_IDGenFlexBox1" alignItems="Center" height="75px" class="imgBG">
                                    <Image 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    src="{path: 'logo>url', formatter: 'Formatter.formatUrl.bind($controller)'}"
                                    id="logoImage" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo"/>
                                </FlexBox>
                            </FlexBox>
                        </HeaderContainer>
                        <!-- <HeaderContainer id="refreshContainer" scrollStep="200">
                            <GenericTile id="refreshTile" class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>lastRefresh}" subheader="{path: 'refreshTime'}" frameType="OneByHalf">
                                <TileContent id="_IDGenTileContent" class="refreshTitle" footer="Footer Text">
                                    <Text id="_IDGenText" class="refreshText" text="{path: 'refreshTime'}"/>
                                </TileContent>
                            </GenericTile>
                        </HeaderContainer> -->
                    </FlexBox>
                    <sf:SmartFilterBar id="smartFilterBar" entitySet="BACKORDERS" filterChange="onFilterBarFilterChange" useDateRangeType="true" persistencyKey="SmartFilterBar_BACKORDERS" smartVariant="pageVariant" liveMode="true" search="onSearch">
                        <sf:controlConfiguration>
                            <sf:ControlConfiguration id="_IDGenControlConfiguration" key="MAKTX" />
                            <sf:ControlConfiguration id="_IDGenControlConfiguration1" key="KUNRE_ANA" />
                            <sf:ControlConfiguration id="_IDGenControlConfiguration2" key="KUNWE_ANA" />
                            <sf:ControlConfiguration id="_IDGenControlConfiguration3" key="MFRNR" />
                        </sf:controlConfiguration>
                    </sf:SmartFilterBar>
                    <Panel id="summaryPanel" class="sapUiMediumMarginTop" expandable="true" expanded="true" headerText="{i18n>panelHeader}">
                        <HeaderContainer id="summaryContainer" scrollStep="200" orientation="Horizontal" gridLayout="true" class="mck_HeaderContainer">
                            <FlexBox id="_IDGenFlexBox2" class="mck_Tile" direction="Column">
                                <Title id="_IDGenTitle" class="mck_TileContentTitle" text="{i18n>backordersTileTitle}"/>
                                <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="TileContent1" class="mck_TileContent" text="{path: 'backordersCount', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox3" class="mck_Tile" direction="Column">
                                <Title id="_IDGenTitle1" class="mck_TileContentTitle" text="{i18n>impactedCustomersTileTitle}"/>
                                <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="TileContent2" class="mck_TileContent" text="{path: 'impactedCustomers', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox4" class="mck_Tile" direction="Column">
                                <Title id="_IDGenTitle2" class="mck_TileContentTitle" text="{i18n>itemsOnBackorderTileTitle}"/>
                                <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="TileContent3" class="mck_TileContent" text="{path: 'itemsBackordered', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox5" class="mck_Tile" direction="Column">
                                <Title id="_IDGenTitle3" class="mck_TileContentTitle" text="{i18n>unitsBackorderedTileTitle}"/>
                                <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="TileContent4" class="mck_TileContent" text="{path: 'unitsBackordered', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox6" class="mck_Tile" direction="Column">
                                <Title id="_IDGenTitle4" class="mck_TileContentTitle" text="{i18n>unitsToBeReceivedTileTitle}"/>
                                <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="TileContent5" class="mck_TileContent" text="{path: 'unitsToBeReceived', type:'sap.ui.model.type.Integer', formatOptions:{groupingEnabled: true , groupingSeperator : ','}}"/>
                            </FlexBox>
                        </HeaderContainer>
                    </Panel>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <st:SmartTable 
                id="table0" 
                width="100%" 
                tableType="Table" 
                header="{i18n>tableTitle}" 
                enableAutoBinding="true" 
                smartFilterId="smartFilterBar" 
                entitySet="BACKORDERS" 
                useExportToExcel="true" 
                beforeExport="onBeforeExport" 
                useVariantManagement="true" 
                useTablePersonalisation="true" 
                customData:p13nDialogSettings='{filter:{visible:false}}'
                showRowCount="true" 
                persistencyKey="SmartTable_BACKORDERS" 
                enableAutoColumnWidth="true" 
                class="sapUiResponsiveContentPadding sapUiLargeMarginBottom">
                    <t:Table 
                    id="table" 
                    selectionMode="None" alternateRowColors="true">
                        <t:columns>
                            <t:Column id="_IDGenColumn" width="7.813rem" hAlign="End" sortProperty="VBELN" filterProperty="VBELN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "VBELN", "leadingProperty": "VBELN", "columnIndex": 0}'/>
                                </t:customData>
                                <Text id="_IDGenText10" text="{i18n>BACKORDERS.VBELN}"/>
                                <t:template>
                                    <Text id="_IDGenText11" text="{path: 'VBELN'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn8" width="7.813rem" hAlign="End" sortProperty="BSTKD" filterProperty="VBELN">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "BSTKD", "leadingProperty": "BSTKD", "columnIndex": 1}'/>
                                </t:customData>
                                <Text id="_IDGenText15" text="{i18n>BACKORDERS.BSTKD}"/>
                                <t:template>
                                    <Text id="_IDGenText16" text="{path: 'BSTKD'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn1" width="7.813rem" hAlign="End" sortProperty="ERDAT" filterProperty="ERDAT">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "ERDAT", "leadingProperty": "ERDAT", "columnIndex": 2}'/>
                                </t:customData>
                                <Text id="_IDGenText1" text="{i18n>BACKORDERS.ERDAT}"/>
                                <t:template>
                                    <Text id="_IDGenText2" text="{path: 'ERDAT', type: 'sap.ui.model.odata.type.Date'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn2" width="7.813rem" hAlign="End" sortProperty="UDATE" filterProperty="UDATE">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "UDATE", "leadingProperty": "UDATE", "columnIndex": 4}'/>
                                </t:customData>
                                <Text id="_IDGenText3" text="{i18n>BACKORDERS.UDATE}"/>
                                <t:template>
                                    <Text id="_IDGenText4" text="{path: 'UDATE', type: 'sap.ui.model.odata.type.Date'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn6" width="7.813rem" hAlign="End" sortProperty="MATNR" filterProperty="MATNR">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "MATNR", "leadingProperty": "MATNR", "columnIndex": 5}'/>
                                </t:customData>
                                <Text id="_IDGenText9" text="{i18n>BACKORDERS.MATNR}"/>
                                <t:template>
                                    <Text id="_IDGenText12" text="{path: 'MATNR'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn7" width="15rem" sortProperty="MAKTX" filterProperty="MAKTX">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "MAKTX", "leadingProperty": "MAKTX", "columnIndex": 6}'/>
                                </t:customData>
                                <Text id="_IDGenText13" text="{i18n>BACKORDERS.MAKTX}"/>
                                <t:template>
                                    <Text id="_IDGenText14" text="{path: 'MAKTX'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn3" width="7.813rem" hAlign="End" sortProperty="UNIT_PRICE" filterProperty="UNIT_PRICE">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "UNIT_PRICE", "leadingProperty": "UNIT_PRICE", "columnIndex": 9}'/>
                                </t:customData>
                                <Text id="_IDGenText5" text="{i18n>BACKORDERS.UNIT_PRICE}"/>
                                <t:template>
                                    <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="_IDGenText6" text="${path: 'UNIT_PRICE', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn4" width="7.813rem" hAlign="End" sortProperty="EXTENSION" filterProperty="EXTENSION">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "EXTENSION", "leadingProperty": "EXTENSION", "columnIndex": 10}'/>
                                </t:customData>
                                <Text id="_IDGenText7" text="{i18n>BACKORDERS.EXTENSION}"/>
                                <t:template>
                                    <Text 
                                    core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="_IDGenText8" text="${path: 'EXTENSION', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn9" width="7.813rem" hAlign="End" sortProperty="KUNRE_ANA" filterProperty="KUNRE_ANA">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "KUNRE_ANA", "leadingProperty": "KUNRE_ANA", "columnIndex": 11}'/>
                                </t:customData>
                                <Text id="_IDGenText17" text="{i18n>BACKORDERS.KUNRE_ANA}"/>
                                <t:template>
                                    <Text id="_IDGenText18" text="{path: 'KUNRE_ANA'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn10" width="7.813rem" hAlign="End" sortProperty="KUNWE_ANA" filterProperty="KUNWE_ANA">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "KUNWE_ANA", "leadingProperty": "KUNWE_ANA", "columnIndex": 12}'/>
                                </t:customData>
                                <Text id="_IDGenText19" text="{i18n>BACKORDERS.KUNWE_ANA}"/>
                                <t:template>
                                    <Text id="_IDGenText20" text="{path: 'KUNWE_ANA'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn11" width="7.813rem" hAlign="End" sortProperty="VKORG" filterProperty="VKORG">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "VKORG", "leadingProperty": "VKORG", "columnIndex": 14}'/>
                                </t:customData>
                                <Text id="_IDGenText21" text="{i18n>BACKORDERS.VKORG}"/>
                                <t:template>
                                    <Text id="_IDGenText22" text="{path: 'VKORG'}"/>
                                </t:template>
                            </t:Column>
                            <t:Column id="_IDGenColumn12" width="7.813rem" hAlign="End" sortProperty="MFRNR" filterProperty="MFRNR" visible="false">
                                <t:customData>
                                    <core:CustomData key="p13nData" value='{"columnKey": "MFRNR", "leadingProperty": "MFRNR", "columnIndex": 15}'/>
                                </t:customData>
                                <Text id="_IDGenText23" text="{i18n>BACKORDERS.MFRNR}"/>
                                <t:template>
                                    <Text id="_IDGenText24" text="{path: 'MFRNR'}"/>
                                </t:template>
                            </t:Column>
                        </t:columns>
                    </t:Table>
                </st:SmartTable>
            </f:content>
            <f:footer>
                <OverflowToolbar id="_IDGenOverflowToolbar" class="footer">
                    <FlexBox id="_IDGenFlexBox7" width="100%" justifyContent="SpaceBetween" wrap="Wrap">
                        <FlexBox id="_IDGenFlexBox8">
                            <ObjectIdentifier id="_IDGenObjectIdentifier" title="{i18n>totals}" class="footerTitle"/>
                        </FlexBox>
                        <FlexBox id="_IDGenFlexBox9">
                            <HBox id="_IDGenHBox" class="sapUiSmallMarginEnd">
                                <Label id="_IDGenLabel" text="{i18n>footerLabel1}:" class="cssLabelTotal"/>
                                <Text 
                                core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                    id="footerText1" class="footerText" text="{path: 'total1'}"/>
                            </HBox>
                            <HBox id="_IDGenHBox1" class="sapUiSmallMarginEnd">
                                <Label id="_IDGenLabel1" text="{i18n>footerLabel2}:" class="cssLabelTotal"/>
                                <Text 
                                core:require="{
                                        Formatter: 'bckorders/model/formatter'
                                    }"
                                id="footerText2" class="footerText" text="{path: 'total2', formatter: 'Formatter.formatCurrency.bind($controller)'}"/>
                            </HBox>
                        </FlexBox>
                    </FlexBox>
                </OverflowToolbar>
            </f:footer>
        </f:DynamicPage>
    </App>
</mvc:View>